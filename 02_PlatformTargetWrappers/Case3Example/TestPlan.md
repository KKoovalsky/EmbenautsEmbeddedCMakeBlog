1. Platform Mismatch Detection (COMPATIBLE_INTERFACE_STRING) 
┌──────────────────────────────────────────┬─────────────────────────┐ 
│ Test │ Expected Result │ 
├──────────────────────────────────────────┼─────────────────────────┤ 
│ AM243x executable + TMS570 linker script │ Fail at generation time │ 
├──────────────────────────────────────────┼─────────────────────────┤ 
│ TMS570 executable + AM243x linker script │ Fail at generation time │ 
├──────────────────────────────────────────┼─────────────────────────┤ 
│ AM243x executable + TMS570 library │ Fail at generation time │ 
├──────────────────────────────────────────┼─────────────────────────┤ 
│ AM243x library linking TMS570 library │ Fail at generation time │ 
└──────────────────────────────────────────┴─────────────────────────┘ 
2. Missing Platform Validator 
┌─────────────────────────────────────┬────────────────────────┐ 
│ Test │ Expected Result │ 
├─────────────────────────────────────┼────────────────────────┤ 
│ Naked add_library() (no wrapper) │ Fail at configure time │ 
├─────────────────────────────────────┼────────────────────────┤ 
│ Naked add_executable() (no wrapper) │ Fail at configure time │ 
└─────────────────────────────────────┴────────────────────────┘ 
3. Missing Linker Script Validator 
┌──────────────────────────────────────────────────┬────────────────────────┐ 
│ Test │ Expected Result │ 
├──────────────────────────────────────────────────┼────────────────────────┤ 
│ Executable with wrapper, no linker script linked │ Fail at configure time │ 
└──────────────────────────────────────────────────┴────────────────────────┘ 
4. IMPORTED Targets 
┌──────────────────────────────────────────────────────────────────────────────┬────────────────────────────────────┐ 
│ Test │ Expected Result │ 
├──────────────────────────────────────────────────────────────────────────────┼────────────────────────────────────┤ 
│ IMPORTED library without EMB_HAS_PLATFORM │ Fail at configure time (validator) │ 
├──────────────────────────────────────────────────────────────────────────────┼────────────────────────────────────┤ 
│ IMPORTED library with EMB_HAS_PLATFORM=TRUE but wrong INTERFACE_EMB_PLATFORM │ Fail at generation time │ 
├──────────────────────────────────────────────────────────────────────────────┼────────────────────────────────────┤ 
│ IMPORTED library properly configured for AM243x, linked to AM243x exe │ Pass │ 
└──────────────────────────────────────────────────────────────────────────────┴────────────────────────────────────┘ 
5. Indirect Linking (the NOTE case) 
┌────────────────────────────────────────────────────────────┬────────────────────────────────────────────────────────────┐ 
│ Test │ Expected Result │ 
├────────────────────────────────────────────────────────────┼────────────────────────────────────────────────────────────┤ 
│ Linker script linked through intermediate INTERFACE target │ Doesn't pass validator (false positive) │ 
├────────────────────────────────────────────────────────────┼────────────────────────────────────────────────────────────┤ 
│ Platform mismatch through indirect library chain │ Should still fail (COMPATIBLE_INTERFACE_STRING propagates) │ 
└────────────────────────────────────────────────────────────┴────────────────────────────────────────────────────────────┘ 
6. INTERFACE Libraries 
┌───────────────────────────────────────────────────┬─────────────────────────────────────┐ 
│ Test │ Expected Result │ 
├───────────────────────────────────────────────────┼─────────────────────────────────────┤ 
│ Plain add_library(foo INTERFACE) without platform │ Pass (INTERFACE libs don't compile) │ 
└───────────────────────────────────────────────────┴─────────────────────────────────────┘ 
7. Multiple Linker Scripts 
┌─────────────────────────────────────────────────────────────┬───────────────────────────────────────────┐ 
│ Test │ Expected Result │ 
├─────────────────────────────────────────────────────────────┼───────────────────────────────────────────┤ 
│ Executable linking two linker scripts (same platform) │ Passes configure, may cause linker issues │ 
├─────────────────────────────────────────────────────────────┼───────────────────────────────────────────┤ 
│ Executable linking two linker scripts (different platforms) │ Fail at generation time │ 
└─────────────────────────────────────────────────────────────┴───────────────────────────────────────────┘ 
8. Valid Combinations 
┌──────────────────────────────────────────────────┬─────────────────────────┐ 
│ Test │ Expected Result │ 
├──────────────────────────────────────────────────┼─────────────────────────┤ 
│ AM243x exe + AM243x lib + AM243x internal linker │ Pass │ 
├──────────────────────────────────────────────────┼─────────────────────────┤ 
│ AM243x exe + AM243x lib + AM243x external linker │ Pass │ 
├──────────────────────────────────────────────────┼─────────────────────────┤ 
│ TMS570 exe + TMS570 lib + TMS570 internal linker │ Pass │ 
├──────────────────────────────────────────────────┼─────────────────────────┤ 
│ Same source compiled for both platforms │ Pass (separate targets) │ 
└──────────────────────────────────────────────────┴─────────────────────────┘
